/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target, mod));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/@jacobx1/of-sdk/build/osa/osa.js
var require_osa = __commonJS({
  "node_modules/@jacobx1/of-sdk/build/osa/osa.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.omniFunc = exports.stringifyCall = exports.execOmniJsRaw = void 0;
    var child_process_1 = require("child_process");
    function osa(fn) {
      const code = `
        ObjC.import('stdlib')
        var fn   = (${fn.toString()})
        var args = JSON.parse($.getenv('OSA_ARGS'))
        var out  = fn.apply(null, args)
        JSON.stringify(out)
    `;
      const osafn = function(...args) {
        return new Promise((resolve, reject) => {
          const child = child_process_1.execFile("/usr/bin/osascript", ["-l", "JavaScript"], {
            env: {
              OSA_ARGS: JSON.stringify(args)
            },
            maxBuffer: 1024 * 1e3
          }, (err, stdout, stderr) => {
            if (err) {
              return reject(err);
            }
            if (stderr) {
              console.log(stderr);
            }
            if (!stdout) {
              resolve(void 0);
            }
            try {
              resolve(JSON.parse(stdout.toString()));
            } catch (e) {
              reject(e);
            }
          });
          child.stdin.write(code);
          child.stdin.end();
        });
      };
      return osafn;
    }
    exports.execOmniJsRaw = osa((scpt) => {
      const omnifocus = Application("Omnifocus");
      return omnifocus.evaluateJavascript(scpt);
    });
    var stringifyMapper = (item) => {
      if (typeof item === "function") {
        return item.toString();
      }
      if (Array.isArray(item)) {
        return `[${item.map(stringifyMapper).join(", ")}]`;
      }
      if (typeof item === "object" && item != null) {
        const valuesConcated = Object.entries(item).map(([key, val]) => ({
          key,
          val: stringifyMapper(val)
        })).map((item2) => `${item2.key}: ${item2.val}`).join(", ");
        return `{${valuesConcated}}`;
      }
      return JSON.stringify(item);
    };
    exports.stringifyCall = (code, ...args) => {
      function scpt(code2, ...scriptArgs) {
        return code2.call(this, ...scriptArgs);
      }
      const argList = [code, ...args].map(stringifyMapper).map((val) => `(${val})`).join(", ");
      return `${scpt}; scpt.call(this, ${argList});`;
    };
    exports.omniFunc = (code, deps) => {
      return (...args) => {
        const rawCodeString = exports.stringifyCall(code, deps, ...Array.from(args));
        return exports.execOmniJsRaw(rawCodeString);
      };
    };
  }
});

// node_modules/@jacobx1/of-sdk/build/transform/taskMapper.js
var require_taskMapper = __commonJS({
  "node_modules/@jacobx1/of-sdk/build/transform/taskMapper.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function taskMapper({ name, completed, id, completionDate, dropDate, added, modified, deferDate, dueDate, estimatedMinutes, note, tags, project }) {
      return {
        name,
        completed,
        dropDate: dropDate && dropDate.toISOString(),
        added: added && added.toISOString(),
        modified: modified && modified.toISOString(),
        deferDate: deferDate && deferDate.toISOString(),
        dueDate: dueDate && dueDate.toISOString(),
        estimatedMinutes,
        note,
        id: id.primaryKey,
        completionDate: completionDate && completionDate.toISOString(),
        tags: tags.map((tag) => ({
          name: tag.name,
          id: tag.id.primaryKey
        })),
        project: project && {
          name: project.name,
          id: project.id.primaryKey
        }
      };
    }
    exports.default = taskMapper;
  }
});

// node_modules/@jacobx1/of-sdk/build/transform/tagMapper.js
var require_tagMapper = __commonJS({
  "node_modules/@jacobx1/of-sdk/build/transform/tagMapper.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function tagMapper({ id, name }) {
      return {
        id: id.primaryKey,
        name
      };
    }
    exports.default = tagMapper;
  }
});

// node_modules/@jacobx1/of-sdk/build/transform/projectMapper.js
var require_projectMapper = __commonJS({
  "node_modules/@jacobx1/of-sdk/build/transform/projectMapper.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function projectMapper({ name, completed, id, completionDate, dropDate, deferDate, dueDate, estimatedMinutes, note, tags }) {
      return {
        name,
        completed,
        dropDate: dropDate && dropDate.toISOString(),
        deferDate: deferDate && deferDate.toISOString(),
        dueDate: dueDate && dueDate.toISOString(),
        estimatedMinutes,
        note,
        id: id.primaryKey,
        completionDate: completionDate && completionDate.toISOString(),
        tags: tags.map((tag) => ({
          name: tag.name,
          id: tag.id.primaryKey
        }))
      };
    }
    exports.default = projectMapper;
  }
});

// node_modules/@jacobx1/of-sdk/build/osa/omnijs.js
var require_omnijs = __commonJS({
  "node_modules/@jacobx1/of-sdk/build/osa/omnijs.js"(exports) {
    "use strict";
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.completeTaskById = exports.deleteTaskById = exports.createTask = exports.getTasksForPerspective = exports.getTags = exports.getProjects = exports.getTasks = void 0;
    var osa_1 = require_osa();
    var taskMapper_1 = __importDefault(require_taskMapper());
    var tagMapper_1 = __importDefault(require_tagMapper());
    var projectMapper_1 = __importDefault(require_projectMapper());
    function allItemsFilter() {
      return true;
    }
    exports.getTasks = osa_1.omniFunc(function(deps, filter) {
      return this.flattenedTasks.filter((item) => item.id.objectClass.name === "Task").filter(filter || deps.defaultFilter).map((item) => deps.taskMapper(item));
    }, {
      taskMapper: taskMapper_1.default,
      defaultFilter: allItemsFilter
    });
    exports.getProjects = osa_1.omniFunc(function(deps, filter) {
      return this.flattenedProjects.filter(filter || deps.defaultFilter).map(deps.projectMapper);
    }, {
      projectMapper: projectMapper_1.default,
      defaultFilter: allItemsFilter
    });
    exports.getTags = osa_1.omniFunc(function([mapperMethod, defaultFilter], filter) {
      return this.flattenedTags.filter(filter || defaultFilter).map((item) => mapperMethod(item));
    }, [tagMapper_1.default, allItemsFilter]);
    exports.getTasksForPerspective = osa_1.omniFunc(function(deps, perspectiveName) {
      const perspective = this.Perspective.all.find((item) => item.name === perspectiveName);
      this.document.windows[0].perspective = perspective;
      return this.document.windows[0].content.nodesForObjects(this.flattenedTasks).filter((item) => item.object.id.objectClass.name === "Task").map((item) => item.object).map(deps.taskMapper);
    }, {
      taskMapper: taskMapper_1.default
    });
    exports.createTask = osa_1.omniFunc(function(deps, title, options = {}) {
      const project = options.projectId ? this.Project.byIdentifier(options.projectId) : void 0;
      const task = new this.Task(title, project);
      if (options.note) {
        task.note = options.note;
      }
      return deps.taskMapper(task);
    }, {
      taskMapper: taskMapper_1.default
    });
    exports.deleteTaskById = osa_1.omniFunc(function(deps, id) {
      const task = this.Task.byIdentifier(id);
      this.deleteObject(task);
    }, {});
    exports.completeTaskById = osa_1.omniFunc(function(deps, id) {
      const task = this.Task.byIdentifier(id);
      task.markComplete();
    }, {});
  }
});

// node_modules/@jacobx1/of-sdk/build/index.js
var require_build = __commonJS({
  "node_modules/@jacobx1/of-sdk/build/index.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      Object.defineProperty(o, k2, { enumerable: true, get: function() {
        return m[k];
      } });
    } : function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m)
        if (p !== "default" && !exports2.hasOwnProperty(p))
          __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    __exportStar(require_omnijs(), exports);
    var osa_1 = require_osa();
    Object.defineProperty(exports, "omniFunc", { enumerable: true, get: function() {
      return osa_1.omniFunc;
    } });
  }
});

// node_modules/obsidian-dataview/lib/index.js
var require_lib = __commonJS({
  "node_modules/obsidian-dataview/lib/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    require("obsidian");
    var getAPI2 = (app) => {
      var _a;
      if (app)
        return (_a = app.plugins.plugins.dataview) === null || _a === void 0 ? void 0 : _a.api;
      else
        return window.DataviewAPI;
    };
    var isPluginEnabled = (app) => app.plugins.enabledPlugins.has("dataview");
    exports.getAPI = getAPI2;
    exports.isPluginEnabled = isPluginEnabled;
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ObsidianOmnifocus
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/obsidianApi.ts
var _app = null;
function setApp(app) {
  _app = app;
}
async function updateNote(filePath, startPos, endPos, needle, replace) {
  if (!_app) {
    throw new Error("No app defined!");
  }
  const file = _app.vault.getAbstractFileByPath(filePath);
  if (!file) {
    throw new Error("File not found!");
  }
  const currentText = await _app.vault.adapter.read(filePath);
  let newText = "";
  const startOfNeedle = currentText.indexOf(needle, startPos);
  if (startOfNeedle === -1) {
    throw new Error("Couldn't find the tag");
  }
  if (startOfNeedle > endPos) {
    throw new Error("Couln't find the tag in the right place");
  }
  newText = currentText.substring(0, startOfNeedle);
  newText += replace;
  newText += currentText.substring(startOfNeedle + needle.length);
  console.log("Original Text", currentText);
  console.log("Updated Text", newText);
  _app.vault.adapter.write(filePath, newText);
}

// src/syncManager.ts
var import_of_sdk = __toESM(require_build());

// src/dataviewApi.ts
var import_obsidian_dataview = __toESM(require_lib());
function fetchOmnifocusTaggedTasks() {
  const dataViewApi = (0, import_obsidian_dataview.getAPI)();
  if (!dataViewApi) {
    throw new Error("Dataview is not available!");
  }
  const pages = dataViewApi.pages("").values;
  const tasks = pages.reduce((currTasks, page) => {
    console.log("page", page);
    const pageTasks = page.file.tasks.values.reduce((currPageTasks, task) => {
      if (task.tags.indexOf("#omnifocus") > -1) {
        currPageTasks.push(task);
      }
      return currPageTasks;
    }, []);
    return [...currTasks, ...pageTasks];
  }, []);
  return tasks;
}

// src/syncManager.ts
async function createTaskAndUpdate(vaultName, task) {
  await (0, import_of_sdk.createTask)(task.text, {
    note: `obsidian://open?vault=${encodeURI(vaultName)}&file=${encodeURI(task.path)}`
  });
  await updateNote(task.path, task.position.start.offset, task.position.end.offset, "#omnifocus ", "#omnifocus-synced ");
}
async function syncTasks(vaultName) {
  console.log("[obsidian-omnifocus] Fetching Tagged Tasks...");
  const tasks = fetchOmnifocusTaggedTasks();
  console.log("[obsidian-omnifocus] Fetched Tagged Tasks.", tasks);
  console.log("[obsidian-omnifocus] Iterating over tasks to send to Omni...");
  const creationTasks = [];
  tasks.forEach((task) => {
    creationTasks.push(createTaskAndUpdate(vaultName, task));
  });
  console.log("[obsidian-omnifocus] Finished iterating over tasks.");
  await Promise.all(creationTasks);
}

// src/main.ts
var ObsidianOmnifocus = class extends import_obsidian.Plugin {
  async onload() {
    setApp(this.app);
    this.addCommand({
      id: "obsidian-omnifocus-sync",
      name: "Sync tagged tasks to OmniFocus",
      callback: () => syncTasks(this.app.vault.getName())
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL0BqYWNvYngxL29mLXNkay9zcmMvb3NhL29zYS50cyIsICJub2RlX21vZHVsZXMvQGphY29ieDEvb2Ytc2RrL3NyYy90cmFuc2Zvcm0vdGFza01hcHBlci50cyIsICJub2RlX21vZHVsZXMvQGphY29ieDEvb2Ytc2RrL3NyYy90cmFuc2Zvcm0vdGFnTWFwcGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9AamFjb2J4MS9vZi1zZGsvc3JjL3RyYW5zZm9ybS9wcm9qZWN0TWFwcGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9AamFjb2J4MS9vZi1zZGsvc3JjL29zYS9vbW5panMudHMiLCAibm9kZV9tb2R1bGVzL0BqYWNvYngxL29mLXNkay9zcmMvaW5kZXgudHMiLCAibm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhdGF2aWV3L3NyYy9pbmRleC50cyIsICJzcmMvbWFpbi50cyIsICJzcmMvb2JzaWRpYW5BcGkudHMiLCAic3JjL3N5bmNNYW5hZ2VyLnRzIiwgInNyYy9kYXRhdmlld0FwaS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAiLy8gQmFzaWMgQVBJIHR5cGUuXG5leHBvcnQgdHlwZSB7IERhdGF2aWV3QXBpIH0gZnJvbSBcImFwaS9wbHVnaW4tYXBpXCI7XG5cbi8vIENvcmUgRGF0YXZpZXcgdHlwZXMuXG5leHBvcnQgdHlwZSB7IERhdGVUaW1lLCBEdXJhdGlvbiB9IGZyb20gXCJsdXhvblwiO1xuZXhwb3J0IHR5cGUge1xuICAgIExpbmssXG4gICAgRGF0YU9iamVjdCxcbiAgICBMaXRlcmFsVHlwZSxcbiAgICBMaXRlcmFsLFxuICAgIExpdGVyYWxSZXByLFxuICAgIFdyYXBwZWRMaXRlcmFsLFxuICAgIExpdGVyYWxXcmFwcGVyLFxuICAgIFdpZGdldCxcbn0gZnJvbSBcImRhdGEtbW9kZWwvdmFsdWVcIjtcblxuZXhwb3J0IHR5cGUgeyBSZXN1bHQsIFN1Y2Nlc3MsIEZhaWx1cmUgfSBmcm9tIFwiYXBpL3Jlc3VsdFwiO1xuZXhwb3J0IHR5cGUgeyBEYXRhQXJyYXkgfSBmcm9tIFwiYXBpL2RhdGEtYXJyYXlcIjtcblxuLy8gRGF0YXZpZXcgSW5kZXguXG5leHBvcnQgdHlwZSB7IExpc3RJdGVtLCBQYWdlTWV0YWRhdGEgfSBmcm9tIFwiZGF0YS1tb2RlbC9tYXJrZG93blwiO1xuZXhwb3J0IHR5cGUgeyBGdWxsSW5kZXgsIFByZWZpeEluZGV4LCBJbmRleE1hcCB9IGZyb20gXCJkYXRhLWluZGV4L2luZGV4XCI7XG5cbi8vIFNlcmlhbGl6ZWQgdHlwZXMgd2hpY2ggZGVzY3JpYmUgYWxsIG91dHB1dHMgb2Ygc2VyaWFsaXphdGlvbi5cbmV4cG9ydCB0eXBlIHsgU01hcmtkb3duUGFnZSwgU0xpc3RFbnRyeSwgU1Rhc2sgfSBmcm9tIFwiZGF0YS1tb2RlbC9zZXJpYWxpemVkL21hcmtkb3duXCI7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbXBsZW1lbnRhdGlvbiAvL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW1wb3J0IHR5cGUgeyBEYXRhdmlld0FwaSB9IGZyb20gXCJhcGkvcGx1Z2luLWFwaVwiO1xuXG5pbXBvcnQgXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBEYXRhdmlldyBBUEkgZnJvbSB0aGUgYXBwIGlmIHByb3ZpZGVkOyBpZiBub3QsIGl0IGlzIGluZmVycmVkIGZyb20gdGhlIGdsb2JhbCBBUEkgb2JqZWN0IGluc3RhbGxlZFxuICogb24gdGhlIHdpbmRvdy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEFQSSA9IChhcHA/OiBBcHApOiBEYXRhdmlld0FwaSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgaWYgKGFwcCkgcmV0dXJuIGFwcC5wbHVnaW5zLnBsdWdpbnMuZGF0YXZpZXc/LmFwaTtcbiAgICBlbHNlIHJldHVybiB3aW5kb3cuRGF0YXZpZXdBUEk7XG59O1xuXG4vKiogRGV0ZXJtaW5lIGlmIERhdGF2aWV3IGlzIGVuYWJsZWQgaW4gdGhlIGdpdmVuIGFwcGxpY2F0aW9uLiAqL1xuZXhwb3J0IGNvbnN0IGlzUGx1Z2luRW5hYmxlZCA9IChhcHA6IEFwcCkgPT4gYXBwLnBsdWdpbnMuZW5hYmxlZFBsdWdpbnMuaGFzKFwiZGF0YXZpZXdcIik7XG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW4gfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IERhdGF2aWV3QXBpIH0gZnJvbSBcIm9ic2lkaWFuLWRhdGF2aWV3XCI7XG5pbXBvcnQgeyBzZXRBcHAgfSBmcm9tIFwiLi9vYnNpZGlhbkFwaVwiO1xuXG5pbXBvcnQgeyBzeW5jVGFza3MgfSBmcm9tIFwiLi9zeW5jTWFuYWdlclwiO1xuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcblxuLy8gaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuLy8gXHRteVNldHRpbmc6IHN0cmluZztcbi8vIH1cblxuLy8gY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcbi8vIFx0bXlTZXR0aW5nOiAnZGVmYXVsdCdcbi8vIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzaWRpYW5PbW5pZm9jdXMgZXh0ZW5kcyBQbHVnaW4ge1xuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgc2V0QXBwKHRoaXMuYXBwKTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJvYnNpZGlhbi1vbW5pZm9jdXMtc3luY1wiLFxuICAgICAgbmFtZTogXCJTeW5jIHRhZ2dlZCB0YXNrcyB0byBPbW5pRm9jdXNcIixcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiBzeW5jVGFza3ModGhpcy5hcHAudmF1bHQuZ2V0TmFtZSgpKSxcbiAgICB9KTtcblxuICAgIC8vIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAvLyBjb25zb2xlLmxvZygndGFza3MgdGhpbmdzLi4uJywgYXdhaXQgZ2V0UHJvamVjdHMoKHByb2opID0+ICFwcm9qLmNvbXBsZXRlZCksIGF3YWl0IGdldFRhc2tzKHRhc2sgPT4gIXRhc2suY29tcGxldGVkICYmIHRhc2sucHJvamVjdCA9PT0gJ2lYdzhHcE9Rcnd3JykpO1xuXG4gICAgLy8gLy8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuICAgIC8vIGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignZGljZScsICdTYW1wbGUgUGx1Z2luJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuICAgIC8vIFx0Ly8gQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBpY29uLlxuICAgIC8vIFx0bmV3IE5vdGljZSgnVGhpcyBpcyBhIG5vdGljZSEnKTtcbiAgICAvLyB9KTtcbiAgICAvLyAvLyBQZXJmb3JtIGFkZGl0aW9uYWwgdGhpbmdzIHdpdGggdGhlIHJpYmJvblxuICAgIC8vIHJpYmJvbkljb25FbC5hZGRDbGFzcygnbXktcGx1Z2luLXJpYmJvbi1jbGFzcycpO1xuXG4gICAgLy8gLy8gVGhpcyBhZGRzIGEgc3RhdHVzIGJhciBpdGVtIHRvIHRoZSBib3R0b20gb2YgdGhlIGFwcC4gRG9lcyBub3Qgd29yayBvbiBtb2JpbGUgYXBwcy5cbiAgICAvLyBjb25zdCBzdGF0dXNCYXJJdGVtRWwgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICAvLyBzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnU3RhdHVzIEJhciBUZXh0Jyk7XG5cbiAgICAvLyAvLyBUaGlzIGFkZHMgYSBzaW1wbGUgY29tbWFuZCB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYW55d2hlcmVcbiAgICAvLyB0aGlzLmFkZENvbW1hbmQoe1xuICAgIC8vIFx0aWQ6ICdvcGVuLXNhbXBsZS1tb2RhbC1zaW1wbGUnLFxuICAgIC8vIFx0bmFtZTogJ09wZW4gc2FtcGxlIG1vZGFsIChzaW1wbGUpJyxcbiAgICAvLyBcdGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgLy8gXHRcdG5ldyBTYW1wbGVNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuICAgIC8vIFx0fVxuICAgIC8vIH0pO1xuICAgIC8vIC8vIFRoaXMgYWRkcyBhbiBlZGl0b3IgY29tbWFuZCB0aGF0IGNhbiBwZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG9uIHRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgIC8vIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgLy8gXHRpZDogJ3NhbXBsZS1lZGl0b3ItY29tbWFuZCcsXG4gICAgLy8gXHRuYW1lOiAnU2FtcGxlIGVkaXRvciBjb21tYW5kJyxcbiAgICAvLyBcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuICAgIC8vIFx0XHRjb25zb2xlLmxvZyhlZGl0b3IuZ2V0U2VsZWN0aW9uKCkpO1xuICAgIC8vIFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbignU2FtcGxlIEVkaXRvciBDb21tYW5kJyk7XG4gICAgLy8gXHR9XG4gICAgLy8gfSk7XG4gICAgLy8gLy8gVGhpcyBhZGRzIGEgY29tcGxleCBjb21tYW5kIHRoYXQgY2FuIGNoZWNrIHdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcCBhbGxvd3MgZXhlY3V0aW9uIG9mIHRoZSBjb21tYW5kXG4gICAgLy8gdGhpcy5hZGRDb21tYW5kKHtcbiAgICAvLyBcdGlkOiAnb3Blbi1zYW1wbGUtbW9kYWwtY29tcGxleCcsXG4gICAgLy8gXHRuYW1lOiAnT3BlbiBzYW1wbGUgbW9kYWwgKGNvbXBsZXgpJyxcbiAgICAvLyBcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuICAgIC8vIFx0XHQvLyBDb25kaXRpb25zIHRvIGNoZWNrXG4gICAgLy8gXHRcdGNvbnN0IG1hcmtkb3duVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG4gICAgLy8gXHRcdGlmIChtYXJrZG93blZpZXcpIHtcbiAgICAvLyBcdFx0XHQvLyBJZiBjaGVja2luZyBpcyB0cnVlLCB3ZSdyZSBzaW1wbHkgXCJjaGVja2luZ1wiIGlmIHRoZSBjb21tYW5kIGNhbiBiZSBydW4uXG4gICAgLy8gXHRcdFx0Ly8gSWYgY2hlY2tpbmcgaXMgZmFsc2UsIHRoZW4gd2Ugd2FudCB0byBhY3R1YWxseSBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgLy8gXHRcdFx0aWYgKCFjaGVja2luZykge1xuICAgIC8vIFx0XHRcdFx0bmV3IFNhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgLy8gXHRcdFx0fVxuXG4gICAgLy8gXHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcbiAgICAvLyBcdFx0XHRyZXR1cm4gdHJ1ZTtcbiAgICAvLyBcdFx0fVxuICAgIC8vIFx0fVxuICAgIC8vIH0pO1xuXG4gICAgLy8gLy8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cbiAgICAvLyB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNhbXBsZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgIC8vIC8vIElmIHRoZSBwbHVnaW4gaG9va3MgdXAgYW55IGdsb2JhbCBET00gZXZlbnRzIChvbiBwYXJ0cyBvZiB0aGUgYXBwIHRoYXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBwbHVnaW4pXG4gICAgLy8gLy8gVXNpbmcgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB3aGVuIHRoaXMgcGx1Z2luIGlzIGRpc2FibGVkLlxuICAgIC8vIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuICAgIC8vIFx0Y29uc29sZS5sb2coJ2NsaWNrJywgZXZ0KTtcbiAgICAvLyB9KTtcblxuICAgIC8vIC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxuICAgIC8vIHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coJ3NldEludGVydmFsJyksIDUgKiA2MCAqIDEwMDApKTtcbiAgfVxuXG4gIC8vIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgLy8gXHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgLy8gfVxuXG4gIC8vIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgLy8gXHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAvLyB9XG59XG5cbi8vIGNsYXNzIFNhbXBsZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuLy8gXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuLy8gXHRcdHN1cGVyKGFwcCk7XG4vLyBcdH1cblxuLy8gXHRvbk9wZW4oKSB7XG4vLyBcdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuLy8gXHRcdGNvbnRlbnRFbC5zZXRUZXh0KCdXb2FoIScpO1xuLy8gXHR9XG5cbi8vIFx0b25DbG9zZSgpIHtcbi8vIFx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG4vLyBcdFx0Y29udGVudEVsLmVtcHR5KCk7XG4vLyBcdH1cbi8vIH1cblxuLy8gY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuLy8gXHRwbHVnaW46IE15UGx1Z2luO1xuXG4vLyBcdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE15UGx1Z2luKSB7XG4vLyBcdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuLy8gXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuLy8gXHR9XG5cbi8vIFx0ZGlzcGxheSgpOiB2b2lkIHtcbi8vIFx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuLy8gXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbi8vIFx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1NldHRpbmdzIGZvciBteSBhd2Vzb21lIHBsdWdpbi4nfSk7XG5cbi8vIFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcbi8vIFx0XHRcdC5zZXROYW1lKCdTZXR0aW5nICMxJylcbi8vIFx0XHRcdC5zZXREZXNjKCdJdFxcJ3MgYSBzZWNyZXQnKVxuLy8gXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG4vLyBcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgeW91ciBzZWNyZXQnKVxuLy8gXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nKVxuLy8gXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4vLyBcdFx0XHRcdFx0Y29uc29sZS5sb2coJ1NlY3JldDogJyArIHZhbHVlKTtcbi8vIFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcgPSB2YWx1ZTtcbi8vIFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbi8vIFx0XHRcdFx0fSkpO1xuLy8gXHR9XG4vLyB9XG4iLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmxldCBfYXBwOiBBcHAgfCBudWxsID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRBcHAoYXBwOiBBcHApIHtcbiAgX2FwcCA9IGFwcDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGUoXG4gIGZpbGVQYXRoOiBzdHJpbmcsXG4gIHN0YXJ0UG9zOiBudW1iZXIsXG4gIGVuZFBvczogbnVtYmVyLFxuICBuZWVkbGU6IHN0cmluZyxcbiAgcmVwbGFjZTogc3RyaW5nXG4pIHtcbiAgaWYgKCFfYXBwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXBwIGRlZmluZWQhXCIpO1xuICB9XG5cbiAgY29uc3QgZmlsZSA9IF9hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcblxuICBpZiAoIWZpbGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIG5vdCBmb3VuZCFcIik7XG4gIH1cblxuICBjb25zdCBjdXJyZW50VGV4dCA9IGF3YWl0IF9hcHAudmF1bHQuYWRhcHRlci5yZWFkKGZpbGVQYXRoKTtcbiAgbGV0IG5ld1RleHQgPSBcIlwiO1xuXG4gIGNvbnN0IHN0YXJ0T2ZOZWVkbGUgPSBjdXJyZW50VGV4dC5pbmRleE9mKG5lZWRsZSwgc3RhcnRQb3MpO1xuXG4gIGlmIChzdGFydE9mTmVlZGxlID09PSAtMSkge1xuICAgIC8vIFdoYXQ/IT9cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIHRoZSB0YWdcIik7XG4gIH1cblxuICBpZiAoc3RhcnRPZk5lZWRsZSA+IGVuZFBvcykge1xuICAgIC8vIFdoYXQ/IT9cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3Vsbid0IGZpbmQgdGhlIHRhZyBpbiB0aGUgcmlnaHQgcGxhY2VcIik7XG4gIH1cblxuICBuZXdUZXh0ID0gY3VycmVudFRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0T2ZOZWVkbGUpO1xuICBuZXdUZXh0ICs9IHJlcGxhY2U7XG4gIG5ld1RleHQgKz0gY3VycmVudFRleHQuc3Vic3RyaW5nKHN0YXJ0T2ZOZWVkbGUgKyBuZWVkbGUubGVuZ3RoKTtcblxuICAvLyBGb3IgZGVidWdnaW5nIGZvciBub3dcbiAgY29uc29sZS5sb2coXCJPcmlnaW5hbCBUZXh0XCIsIGN1cnJlbnRUZXh0KTtcbiAgY29uc29sZS5sb2coXCJVcGRhdGVkIFRleHRcIiwgbmV3VGV4dCk7XG5cbiAgX2FwcC52YXVsdC5hZGFwdGVyLndyaXRlKGZpbGVQYXRoLCBuZXdUZXh0KTtcbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVUYXNrLCBUYXNrIH0gZnJvbSBcIkBqYWNvYngxL29mLXNka1wiO1xuaW1wb3J0IHsgZmV0Y2hPbW5pZm9jdXNUYWdnZWRUYXNrcywgT2JzaWRpYW5UYXNrIH0gZnJvbSBcIi4vZGF0YXZpZXdBcGlcIjtcbmltcG9ydCB7IHVwZGF0ZU5vdGUgfSBmcm9tIFwiLi9vYnNpZGlhbkFwaVwiO1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVUYXNrQW5kVXBkYXRlKHZhdWx0TmFtZTogc3RyaW5nLCB0YXNrOiBPYnNpZGlhblRhc2spIHtcbiAgYXdhaXQgY3JlYXRlVGFzayh0YXNrLnRleHQsIHtcbiAgICBub3RlOiBgb2JzaWRpYW46Ly9vcGVuP3ZhdWx0PSR7ZW5jb2RlVVJJKHZhdWx0TmFtZSl9JmZpbGU9JHtlbmNvZGVVUkkoXG4gICAgICB0YXNrLnBhdGhcbiAgICApfWAsXG4gIH0pO1xuXG4gIGF3YWl0IHVwZGF0ZU5vdGUoXG4gICAgdGFzay5wYXRoLFxuICAgIHRhc2sucG9zaXRpb24uc3RhcnQub2Zmc2V0LFxuICAgIHRhc2sucG9zaXRpb24uZW5kLm9mZnNldCxcbiAgICBcIiNvbW5pZm9jdXMgXCIsIC8vIFRPRE86IFB1bGwgaW4gdmlhIHNldHRpbmc/XG4gICAgXCIjb21uaWZvY3VzLXN5bmNlZCBcIlxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3luY1Rhc2tzKHZhdWx0TmFtZTogc3RyaW5nKSB7XG4gIC8vIFRPRE86IENvbnNpZGVyIGlmIHdlIHNob3VsZCBhbGxvdyBwZXIgcGFnZSBzeW5jaW5nIG9mIGp1c3QgZG8gdGhlIGVudGlyZSB2YXVsdD9cbiAgY29uc29sZS5sb2coXCJbb2JzaWRpYW4tb21uaWZvY3VzXSBGZXRjaGluZyBUYWdnZWQgVGFza3MuLi5cIik7XG4gIGNvbnN0IHRhc2tzID0gZmV0Y2hPbW5pZm9jdXNUYWdnZWRUYXNrcygpO1xuICBjb25zb2xlLmxvZyhcIltvYnNpZGlhbi1vbW5pZm9jdXNdIEZldGNoZWQgVGFnZ2VkIFRhc2tzLlwiLCB0YXNrcyk7XG5cbiAgY29uc29sZS5sb2coXCJbb2JzaWRpYW4tb21uaWZvY3VzXSBJdGVyYXRpbmcgb3ZlciB0YXNrcyB0byBzZW5kIHRvIE9tbmkuLi5cIik7XG4gIGNvbnN0IGNyZWF0aW9uVGFza3M6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xuICB0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgY3JlYXRpb25UYXNrcy5wdXNoKGNyZWF0ZVRhc2tBbmRVcGRhdGUodmF1bHROYW1lLCB0YXNrKSk7XG4gIH0pO1xuICBjb25zb2xlLmxvZyhcIltvYnNpZGlhbi1vbW5pZm9jdXNdIEZpbmlzaGVkIGl0ZXJhdGluZyBvdmVyIHRhc2tzLlwiKTtcblxuICBhd2FpdCBQcm9taXNlLmFsbChjcmVhdGlvblRhc2tzKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRBUEkgfSBmcm9tIFwib2JzaWRpYW4tZGF0YXZpZXdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBPYmlzaWRpYW5QYWdlIHtcbiAgZmlsZToge1xuICAgIHRhc2tzOiB7IHZhbHVlczogT2JzaWRpYW5UYXNrW10gfTtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYnNpZGlhblRhc2sge1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIGxpbmU6IG51bWJlcjtcbiAgcGF0aDogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgdGV4dDogc3RyaW5nO1xuICBwb3NpdGlvbjoge1xuICAgIHN0YXJ0OiB7XG4gICAgICBvZmZzZXQ6IG51bWJlcjtcbiAgICB9O1xuICAgIGVuZDoge1xuICAgICAgb2Zmc2V0OiBudW1iZXI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoT21uaWZvY3VzVGFnZ2VkVGFza3MoKSB7XG4gIGNvbnN0IGRhdGFWaWV3QXBpID0gZ2V0QVBJKCk7XG5cbiAgaWYgKCFkYXRhVmlld0FwaSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGF2aWV3IGlzIG5vdCBhdmFpbGFibGUhXCIpO1xuICB9XG5cbiAgLy8gVE9ETzogQ29uc2lkZXIgaGF2aW5nIHRoZSBwYWdlcyB0aGlzIGEgc2V0dGluZyFcbiAgY29uc3QgcGFnZXMgPSBkYXRhVmlld0FwaS5wYWdlcyhcIlwiKS52YWx1ZXMgYXMgT2Jpc2lkaWFuUGFnZVtdO1xuXG4gIGNvbnN0IHRhc2tzID0gcGFnZXMucmVkdWNlPE9ic2lkaWFuVGFza1tdPigoY3VyclRhc2tzLCBwYWdlKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJwYWdlXCIsIHBhZ2UpO1xuICAgIGNvbnN0IHBhZ2VUYXNrcyA9IHBhZ2UuZmlsZS50YXNrcy52YWx1ZXMucmVkdWNlPE9ic2lkaWFuVGFza1tdPihcbiAgICAgIChjdXJyUGFnZVRhc2tzLCB0YXNrKSA9PiB7XG4gICAgICAgIGlmICh0YXNrLnRhZ3MuaW5kZXhPZihcIiNvbW5pZm9jdXNcIikgPiAtMSkge1xuICAgICAgICAgIGN1cnJQYWdlVGFza3MucHVzaCh0YXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyUGFnZVRhc2tzO1xuICAgICAgfSxcbiAgICAgIFtdXG4gICAgKTtcblxuICAgIHJldHVybiBbLi4uY3VyclRhc2tzLCAuLi5wYWdlVGFza3NdO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHRhc2tzO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxRQUFBLGtCQUFBLFFBQUE7QUFHQSxpQkFBK0MsSUFBTTtBQUNuRCxZQUFNLE9BQU87O3NCQUVPLEdBQUcsU0FBUTs7Ozs7QUFNL0IsWUFBTSxRQUFRLFlBQWdC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
